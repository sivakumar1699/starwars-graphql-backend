"use strict";
/*
 * Copyright (c) "Neo4j"
 * Neo4j Sweden AB [http://neo4j.com]
 *
 * This file is part of Neo4j.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.labelsToString = labelsToString;
exports.typeToString = typeToString;
const label_expressions_1 = require("../expressions/labels/label-expressions");
const add_label_token_1 = require("../utils/add-label-token");
const as_array_1 = require("../utils/as-array");
const escape_1 = require("../utils/escape");
function labelsToString(labels, env) {
    if (labels instanceof label_expressions_1.LabelExpr) {
        return (0, add_label_token_1.addLabelToken)(env.config.labelOperator, labels.getCypher(env));
    }
    else {
        const shouldEscape = !env.config.unsafeEscapeOptions.disableNodeLabelEscaping;
        const escapedLabels = shouldEscape ? (0, as_array_1.asArray)(labels).map(escape_1.escapeLabel) : (0, as_array_1.asArray)(labels);
        return (0, add_label_token_1.addLabelToken)(env.config.labelOperator, ...escapedLabels);
    }
}
function typeToString(type, env) {
    if (type instanceof label_expressions_1.LabelExpr) {
        return (0, add_label_token_1.addLabelToken)(env.config.labelOperator, type.getCypher(env));
    }
    else {
        const shouldEscape = !env.config.unsafeEscapeOptions.disableRelationshipTypeEscaping;
        const escapedType = shouldEscape ? (0, escape_1.escapeType)(type) : type;
        return (0, add_label_token_1.addLabelToken)(env.config.labelOperator, escapedType);
    }
}
